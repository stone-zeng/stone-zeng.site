---
title: å¸¦åœˆæ•°å­—
date: 2019-02-09
last_modified_at: 2020-08-11
categories: Symbols
excerpt: ä¼—æ‰€å‘¨çŸ¥ï¼Œ$\LaTeX$ æä¾›äº† `\textcircled` å‘½ä»¤ç”¨ä»¥ç»™å­—ç¬¦åŠ åœˆï¼Œä½†æ•ˆæœå´ä¸æ€ä¹ˆå¥½ã€‚å®é™…ä¸Šï¼ŒåŠ åœˆå¹¶ä¸æ˜¯ä¸€ä¸ªå¹³å‡¡çš„å˜æ¢ï¼Œå®ƒä¼šæ¶‰åŠåˆ°åœˆå†…å­—ç¬¦å½¢çŠ¶çš„å¾®è°ƒï¼Œè€Œè¿™æ˜¯å‡ ä¹æ— æ³•åœ¨ $\TeX$ å®å±‚é¢è§£å†³çš„ã€‚
---

ä¼—æ‰€å‘¨çŸ¥ï¼Œ$\LaTeX$ æä¾›äº† `\textcircled` å‘½ä»¤ç”¨ä»¥ç»™å­—ç¬¦åŠ åœˆï¼Œä½†æ•ˆæœå´ä¸æ€ä¹ˆå¥½ï¼š

![\textcircled](../images/circled-numbers/textcircled.svg){:.invert}

å®é™…ä¸Šï¼ŒåŠ åœˆå¹¶ä¸æ˜¯ä¸€ä¸ªå¹³å‡¡çš„å˜æ¢ï¼Œå®ƒä¼šæ¶‰åŠåˆ°åœˆå†…å­—ç¬¦å½¢çŠ¶çš„å¾®è°ƒï¼Œè€Œè¿™æ˜¯å‡ ä¹æ— æ³•åœ¨ $\TeX$ å®å±‚é¢è§£å†³çš„ã€‚å› æ­¤ï¼Œè¦å¾—åˆ°æ¯”è¾ƒå¥½çš„æ•ˆæœï¼Œæœ€å¥½èƒ½ä½¿ç”¨é¢„å…ˆè®¾è®¡çš„å­—ç¬¦å½¢ï¼ˆglyphï¼‰ã€‚

## ä¼ ç»Ÿæ–¹æ¡ˆ

`pifont` å®åŒ…æä¾›äº†ä¸€ç³»åˆ—[æ‚é”¦ç¬¦å·](https://en.wikipedia.org/wiki/Dingbat)ï¼ˆdingbatsï¼‰ï¼Œå…¶ä¸­å°±æœ‰å¸¦åœˆæ•°å­—ã€‚`pifont` å±äº `psnfss` å®é›†ï¼Œå®ƒå°è£…äº†ä¸€ç³»åˆ— PostScript å­—ä½“ï¼ŒåŒ…å«è‘—åçš„ Helveticaã€Timesã€Courier ç­‰ã€‚`pifont` ä½¿ç”¨çš„æ˜¯ [Zapf Dingbats](https://en.wikipedia.org/wiki/Zapf_Dingbats) å­—ä½“ã€‚

ä½¿ç”¨ `\ding{<number>}` å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä½¿ç”¨å¸¦åœˆæ•°å­—ï¼ˆå…±æœ‰å››ç§ï¼‰ï¼Œå½“ç„¶ä¹Ÿæœ‰å…¶ä»–ç¬¦å·ã€‚å…·ä½“æ•°å­—å¯å‚è§ä¸‹å›¾ï¼š

![pifont](../images/circled-numbers/pifont.svg){:.invert}

åœ¨ä¸»æµçš„ $\TeX$ å¼•æ“ä¸‹ï¼Œ`pifont` å®åŒ…éƒ½å¯ä»¥ä½¿ç”¨ã€‚

## Unicode

æ•°å­— 0--50 çš„å¸¦åœˆç‰ˆæœ¬éƒ½åˆ†é…äº†å¯¹åº”çš„ Unicode ç ä½ï¼Œå› è€Œåœ¨ç°ä»£ $\TeX$ å¼•æ“ï¼ˆ$\>XeTeX$ å’Œ $\>LuaTeX$ï¼Œè‹¥æ— ç‰¹æ®Šè¯´æ˜ä»¥ä¸‹ä»…è®¨è®ºè¿™ä¸¤è€…ï¼‰ä¸­ï¼Œé…åˆåˆé€‚çš„å­—ä½“ï¼Œç†è®ºä¸Šå¯ä»¥ç›´æ¥è¾“å…¥è¿™äº›ç¬¦å·ã€‚å…·ä½“è§ä¸‹è¡¨ï¼š[^font]

[^font]: åœ¨æœ¬é¡µé¢çš„ CSS ä¸­ï¼Œå¸¦åœˆæ•°å­—å°†ä¼˜å…ˆä½¿ç”¨æ€æºå®‹ä½“ï¼ˆSource Han Serifï¼‰æ˜¾ç¤ºï¼Œä½†å…·ä½“ç»“æœä»ç„¶å–å†³äºå­—ä½“çš„å®‰è£…æƒ…å†µä»¥åŠæµè§ˆå™¨çš„æ¸²æŸ“æ–¹å¼ã€‚

{:.circled-number}
|  â“ª  |  â‘   |  â‘¡  |  â‘¢  |  â‘£  |  â‘¤  |  â‘¥  |  â‘¦  |  â‘§  |  â‘¨  |  â‘©  |
| 24EA | 2460 | 2461 | 2462 | 2463 | 2464 | 2465 | 2466 | 2467 | 2468 | 2469 |
|      |  â‘ª  |  â‘«  |  â‘¬  |  â‘­  |  â‘®  |  â‘¯  |  â‘°  |  â‘±  |  â‘²  |  â‘³  |
|      | 246A | 246B | 246C | 246D | 246E | 246F | 2470 | 2471 | 2472 | 2473 |
|      |  ã‰‘  |  ã‰’  |  ã‰“  |  ã‰”  |  ã‰•  |  ã‰–  |  ã‰—  |  ã‰˜  |  ã‰™  |  ã‰š  |
|      | 3251 | 3252 | 3253 | 3254 | 3255 | 3256 | 3257 | 3258 | 3259 | 325A |
|      |  ã‰›  |  ã‰œ  |  ã‰  |  ã‰  |  ã‰Ÿ  |  ãŠ±  |  ãŠ²  |  ãŠ³  |  ãŠ´  |  ãŠµ  |
|      | 325B | 325C | 325D | 325E | 325F | 32B1 | 32B2 | 32B3 | 32B4 | 32B5 |
|      |  ãŠ¶  |  ãŠ·  |  ãŠ¸  |  ãŠ¹  |  ãŠº  |  ãŠ»  |  ãŠ¼  |  ãŠ½  |  ãŠ¾  |  ãŠ¿  |
|      | 32B6 | 32B7 | 32B8 | 32B9 | 32BA | 32BB | 32BC | 32BD | 32BE | 32BF |

Zapf Dingbats ä¸­çš„å…¶ä»–å‡ ç§æ ·å¼ä¹Ÿåˆ†é…æœ‰ç ä½ï¼š

- åç™½ï¼ˆnegative circled digitsï¼‰

  {:.circled-number}
  |  â“¿  |  â¶  |  â·  |  â¸  |  â¹  |  âº  |  â»  |  â¼  |  â½  |  â¾  |  â¿  |
  | 24FF | 2776 | 2777 | 2778 | 2779 | 277A | 277B | 277C | 277D | 277E | 277F |
  |      |  â“«  |  â“¬  |  â“­  |  â“®  |  â“¯  |  â“°  |  â“±  |  â“²  |  â“³  |  â“´  |
  |      | 24EB | 24EC | 24ED | 24EE | 24EF | 24F0 | 24F1 | 24F2 | 24F3 | 24F4 |

- æ— è¡¬çº¿ï¼ˆcircled sans-serif digitsï¼‰

  {:.circled-number}
  |   ğŸ„‹  |  â€  |  â  |  â‚  |  âƒ  |  â„  |  â…  |  â†  |  â‡  |  âˆ  |  â‰  |
  | 1F10B | 2780 | 2781 | 2782 | 2783 | 2784 | 2785 | 2786 | 2787 | 2788 | 2789 |

- æ— è¡¬çº¿åç™½ï¼ˆnegative circled sans-serif digitsï¼‰

  {:.circled-number}
  |   ğŸ„Œ  |  âŠ  |  â‹  |  âŒ  |  â  |  â  |  â  |  â  |  â‘  |  â’  |  â“  |
  | 1F10C | 278A | 278B | 278C | 278D | 278E | 278F | 2790 | 2791 | 2792 | 2793 |

æ­¤å¤–ï¼Œè¿˜é¢å¤–å¢åŠ äº†ä¸€äº›æ ·å¼ï¼š

- åŒçº¿ï¼ˆdouble circled digitsï¼‰

  {:.circled-number}
  |  â“µ  |  â“¶  |  â“·  |  â“¸  |  â“¹  |  â“º  |  â“»  |  â“¼  |  â“½  |  â“¾  |
  | 24F5 | 24F6 | 24F7 | 24F8 | 24F9 | 24FA | 24FB | 24FC | 24FD | 24FE |

- åŠ æ¡†ï¼ˆcircled numbers on black squareï¼‰

  {:.circled-number}
  |  ã‰ˆ  |  ã‰‰  |  ã‰Š  |  ã‰‹  |  ã‰Œ  |  ã‰  |  ã‰  |  ã‰  |
  | 3248 | 3249 | 324A | 324B | 324C | 324D | 324E | 324F |

- å¸¦åœ†æ‹¬å·ï¼ˆparenthesized digitsï¼‰

  {:.circled-number}
  |  â‘´  |  â‘µ  |  â‘¶  |  â‘·  |  â‘¸  |  â‘¹  |  â‘º  |  â‘»  |  â‘¼  |  â‘½  |
  | 2474 | 2475 | 2476 | 2477 | 2478 | 2479 | 247A | 247B | 247C | 247D |
  |  â‘¾  |  â‘¿  |  â’€  |  â’  |  â’‚  |  â’ƒ  |  â’„  |  â’…  |  â’†  |  â’‡  |
  | 247E | 247F | 2480 | 2481 | 2482 | 2483 | 2484 | 2485 | 2486 | 2487 |

- å¸¦ç‚¹ï¼ˆdigits with full stopï¼‰

  {:.circled-number}
  |   ğŸ„€  |  â’ˆ  |  â’‰  |  â’Š  |  â’‹  |  â’Œ  |  â’  |  â’  |  â’  |  â’  |  â’‘  |
  | 1F100 | 2488 | 2489 | 248A | 248B | 248C | 248D | 248E | 248F | 2490 | 2491 |
  |       |  â’’  |  â’“  |  â’”  |  â’•  |  â’–  |  â’—  |  â’˜  |  â’™  |  â’š  |  â’›  |
  |       | 2492 | 2493 | 2494 | 2495 | 2496 | 2497 | 2498 | 2499 | 249A | 249B |

- å¸¦é€—å·ï¼ˆdigits with commaï¼‰

  {:.circled-number}
  |   ğŸ„  |   ğŸ„‚  |   ğŸ„ƒ  |   ğŸ„„  |   ğŸ„…  |   ğŸ„†  |   ğŸ„‡  |   ğŸ„ˆ  |   ğŸ„‰  |   ğŸ„Š  |
  | 1F101 | 1F102 | 1F103 | 1F104 | 1F105 | 1F106 | 1F107 | 1F108 | 1F109 | 1F10A |

- è¿™äº›å§‘ä¸”ä¹Ÿç®—ä¸Šå§ï¼š

  {:.circled-number}
  |   ãˆ   |   ãˆ¡  |   ãˆ¢  |  ãˆ£  |  ãˆ¤  |  ãˆ¥  |  ãˆ¦  |  ãˆ§  |  ãˆ¨  |  ãˆ©  |
  |  3220 |  3221 |  3222 | 3223 | 3224 | 3225 | 3226 | 3227 | 3228 | 3229 |
  |   ãŠ€  |   ãŠ  |   ãŠ‚  |  ãŠƒ  |  ãŠ„  |  ãŠ…  |  ãŠ†  |  ãŠ‡  |  ãŠˆ  |  ãŠ‰  |
  |  3280 |  3281 |  3282 | 3283 | 3284 | 3285 | 3286 | 3287 | 3288 | 3289 |
  |   ğŸˆ©  |   ğŸˆ”  |   ğŸˆª  |
  | 1F229 | 1F214 | 1F22A |
  |       |   ğŸ‰‚  |   ğŸ‰  |
  |       | 1F242 | 1F241 |

è¿™äº›ç¬¦å·åˆ†æ•£åœ¨ä»¥ä¸‹å‡ ä¸ª Unicode åŒºå—ï¼ˆblockï¼‰ä¸­ï¼š

- Enclosed Alphanumerics (`U+2460`--`U+24FF`)
  - å¸¦åœˆ 0--20ï¼ˆä»¥åŠ a--zã€A--Zï¼‰
  - åç™½ 0ã€11--20
  - åŒçº¿ 1--10
  - å¸¦åœ†æ‹¬å· 1--20
  - å¸¦ç‚¹ 1--20
- Dingbats (`U+2700`--`U+27BF`)
  - åç™½ 1--10
  - æ— è¡¬çº¿ 1--10
  - æ— è¡¬çº¿åç™½ 1--10
- Enclosed CJK Letters and Months (`U+3200`--`U+32FF`)
  - å¸¦åœˆ 21--50
  - åŠ æ¡† 10--80ï¼ˆä»…é™æ•´åï¼‰
  - å¸¦åœˆ `ä¸€`ï½`å`
  - å¸¦åœ†æ‹¬å· `ä¸€`ï½`å`
- Enclosed Alphanumeric Supplement (`U+1F100`--`U+1F1FF`)
  - å¸¦é€—å· 0--9
  - æ— è¡¬çº¿ã€æ— è¡¬çº¿åç™½ä»¥åŠå¸¦ç‚¹çš„ 0
- Enclosed Ideographic Supplement (`U+1F200`--`U+1F2FF`)
  - å¸¦æ–¹æ¡† `ä¸€`ã€`äºŒ`ã€`ä¸‰`
  - å¸¦å…­è§’æ‹¬å· `äºŒ`ã€`ä¸‰`

ç›´æ¥è¾“å…¥ï¼Œæˆ–è€…åˆ©ç”¨ç ä½ï¼Œéƒ½èƒ½åœ¨ $\LaTeX$ ä¸­ä½¿ç”¨ä»¥ä¸Šè¿™äº›å¸¦åœˆæ•°å­—ï¼ˆæ³¨æ„ä¸åŒæ–¹æ³•å¯¹å¤§å°å†™çš„è¦æ±‚æœ‰å·®å¼‚ï¼‰ï¼š

```tex
\documentclass{article}
\usepackage{fontspec}
\setmainfont{Source Han Serif SC}

\begin{document}
â‘  â‘¡ â‘¢ â‘£ â‘¤
\symbol{"2776} \symbol{"2777} \symbol{"2778} \symbol{"2779} \symbol{"277A}
\char"3248\    \char"3249\    \char"324A\    \char"324B\    \char"324C\
^^^^3280       ^^^^3281       ^^^^3282       ^^^^3283       ^^^^3284
^^^^^1f229     ^^^^^1f214     ^^^^^1f22a
\end{document}
```

ä½¿ç”¨ $\>XeLaTeX$ æˆ– $\>LuaLaTeX$ ç¼–è¯‘ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š

![textcircled-fontspec](../images/circled-numbers/textcircled-fontspec.svg){:.invert}

## `xunicode-addon` å®åŒ…

åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæ— è®ºæ˜¯ä¾é ç ä½ï¼Œè¿˜æ˜¯å€Ÿç”±è¾“å…¥æ³•ç›´æ¥å½•å…¥è¿™äº›ç‰¹æ®Šå­—ç¬¦ï¼Œéƒ½ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚åœ¨ `xunicode-addon` å®åŒ…ï¼ˆä»å±äº `xeCJK`ï¼‰ä¸­ï¼Œ`\textcircled` ç­‰ä¸€ç³»åˆ—å‘½ä»¤è¢«é‡æ–°å®šä¹‰ï¼Œä»è€Œèƒ½å¤Ÿæ˜¾ç¤º Unicode æ‰€åˆ†é…çš„å¸¦åœˆæ•°å­—ï¼ˆå’Œå­—æ¯ç­‰ï¼‰ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š

```tex
\documentclass{article}
\usepackage{fontspec,xunicode-addon}
\setmainfont{Source Han Serif SC}

\begin{document}
\textcircled{1}
\textcircled{25}
\textcircled{a}
\textcircled{Z}
\end{document}
```

åˆ©ç”¨ $\LaTeX3$ è¯­æ³•ä¹Ÿå¯ä»¥è¿…é€Ÿå†™å‡ºå¦‚ä¸‹å¾ªç¯è€Œä¸ä¼¤èº«ä½“ï¼š

```tex
\ExplSyntaxOn
\cs_set:Npn \TESTi
  {
    \int_step_inline:nnn {  0 } { 25 } { \textcircled{##1} ~ } \par
    \int_step_inline:nnn { 26 } { 50 } { \textcircled{##1} ~ } \par
  }
\cs_set:Npn \TESTii
  { \tl_map_inline:nn { abcdefghijklmnopqrstuvwxyz } { \textcircled{##1} ~ } \par }
\cs_set:Npn \TESTiii
  { \tl_map_inline:nn { ABCDEFGHIJKLMNOPQRSTUVWXYZ } { \textcircled{##1} ~ } \par }
\ExplSyntaxOff

\TESTi
\TESTii
\TESTiii
```

![textcircled-xunicode-addon](../images/circled-numbers/textcircled-xunicode-addon.svg){:.invert}

å½“ç„¶ï¼Œå…¶ä»–æ ·å¼çš„å¸¦åœˆæ•°å­—å¹¶æ²¡æœ‰æä¾›å¿«æ·çš„è¾“å…¥æ–¹å¼ã€‚

## åœ¨ `ctex` å®é›†ä¸­ä½¿ç”¨

ä»¥ä¸Šçš„æ¡ˆä¾‹éƒ½æ˜¯åœ¨æ ‡å‡†æ–‡æ¡£ç±» `article` ä¸­æ­é… `fontspec` å®åŒ…å®Œæˆçš„ã€‚å¦‚æœåˆ‡æ¢æˆ `ctex` å®é›†ï¼Œåˆ™éœ€è¦é¢å¤–åšä¸€äº›è°ƒæ•´ã€‚

å¯¹äºä¸­æ–‡æ–‡æ¡£ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦ä¸ºä¸­è¥¿æ–‡ï¼ˆã€Œè¥¿æ–‡ã€ä¸»è¦æŒ‡ Latin scriptï¼‰åˆ†åˆ«è®¾ç½®å­—ä½“ã€‚ä¸Šé¢å·²ç»æåˆ°è¿‡ï¼Œå¸¦åœˆæ•°å­—åˆ†æ•£åœ¨äº†å‡ ä¸ª Unicode åŒºå—ä¸­ã€‚`xeCJK` å°†å…¶ä¸­çš„ Enclosed CJK Letters and Months å’Œ Enclosed Ideographic Supplement è®¾ç½®ä¸ºäº† CJK å­—ç¬¦ç±»ï¼Œä½¿ç”¨ä¸­æ–‡å­—ä½“ï¼›å…¶ä½™åˆ™ä¸º Default å­—ç¬¦ç±»ï¼Œä½¿ç”¨è¥¿æ–‡å­—ä½“ã€‚

$\>LuaTeX$ ä¸‹çš„æƒ…å†µç±»ä¼¼ï¼Œä½†ç¨æ˜¾å¤æ‚ã€‚é¦–å…ˆæ˜¯ `luatexja` ä½œå‡ºäº† ALchar å’Œ JAchar çš„åˆ’åˆ†ï¼Œå¤§è‡´ç›¸å½“äºè¥¿æ–‡å’Œæ—¥æ–‡ï¼ˆAL=**AL**phabeticï¼ŒJA=**JA**paneseï¼‰ï¼›åŒæ—¶åˆé¢„å®šä¹‰äº†ä¸€äº›å­—ç¬¦èŒƒå›´ã€‚é»˜è®¤è®¾ç½®ä¸­ï¼Œä¸Šæ–‡æ‰€åˆ—çš„æ‰€æœ‰å¸¦åœˆæ•°å­—å‡ä¼šä½¿ç”¨æ—¥æ–‡å­—ä½“ã€‚å…¶åï¼Œ`ctex` å®é›†ä¸ºäº†é€‚åº”ä¸­æ–‡æ’ç‰ˆçš„éœ€æ±‚åˆåšäº†ä¸€äº›ä¿®æ”¹ã€‚ç»“æœæ˜¯ï¼ŒEnclosed Alphanumerics è¢«è®¾ç½®ä¸ºäº† ALcharï¼Œå³ä½¿ç”¨è¥¿æ–‡å­—ä½“ã€‚

æ€»è€Œè¨€ä¹‹ï¼Œåœ¨ `ctex` å®é›†çš„é»˜è®¤é…ç½®ä¸‹ï¼š

| Unicode åŒºå—                     | $\>XeLaTeX$ | $\>LuaLaTeX$ |
|:--------------------------------:|:----------:|:-----------:|
| Enclosed Alphanumerics           | è¥¿æ–‡       | è¥¿æ–‡        |
| Dingbats                         | è¥¿æ–‡       | è¥¿æ–‡        |
| Enclosed CJK Letters and Months  | ä¸­æ–‡       | ä¸­æ–‡        |
| Enclosed Alphanumeric Supplement | è¥¿æ–‡       | è¥¿æ–‡        |
| Enclosed Ideographic Supplement  | ä¸­æ–‡       | è¥¿æ–‡        |

åœ¨ $\>XeLaTeX$ ä¸‹ï¼Œå¯ä»¥åšå¦‚ä¸‹ä¿®æ”¹ï¼š

```tex
{% raw %}% ä½¿ç”¨ä¸­æ–‡å­—ä½“
\xeCJKDeclareCharClass{CJK}{%
  "24EA,        % â“ª
  "2460->"2473, % â‘ ->â‘³
  "3251->"32BF, % ã‰‘->ãŠ¿
  "24FF,        % â“¿
  "2776->"277F, % â¶->â¿
  "24EB->"24F4  % â“«->â“´
}
\setCJKmainfont{Source Han Serif SC}

% æˆ–ä½¿ç”¨è¥¿æ–‡å­—ä½“
% \xeCJKDeclareCharClass{Default}{%
%   "24EA, "2460->"2473, "3251->"32BF,
%   "24FF, "2776->"277F, "24EB->"24F4}
% \setmainfont{Garamond-Math.otf}{% endraw %}
```

åœ¨ $\>LuaLaTeX$ ä¸‹ï¼Œä¹Ÿå®Œå…¨ç±»ä¼¼ï¼š

```tex
{% raw %}% ä½¿ç”¨ä¸­æ–‡å­—ä½“
\ltjdefcharrange{6}{%
  "24EA, "2460-"2473, "3251-"32BF,
  "24FF, "2776-"277F, "24EB-"24F4}
\setCJKmainfont{Source Han Serif SC}

% æˆ–ä½¿ç”¨è¥¿æ–‡å­—ä½“
% \ltjdefcharrange{3}{%
%   "24EA, "2460-"2473, "3251-"32BF,
%   "24FF, "2776-"277F, "24EB-"24F4}
% \setmainfont{Garamond-Math.otf}{% endraw %}
```

è¿™é‡Œçš„ `6` å’Œ `3` åŸå…ˆåˆ†åˆ«å¯¹åº”æ—¥æ–‡å­—ç¬¦å’Œè¥¿æ–‡æ ‡ç‚¹ã€ç¬¦å·ã€‚è¿˜éœ€æ³¨æ„èŒƒå›´çš„å†™æ³•ä¸ `xeCJK` ä¸­ä¸åŒã€‚

é…åˆ `xunicode-addon` å®åŒ…ï¼Œåœ¨ `ctex` å®é›†ä¸­ä¹ŸåŒæ ·å¯ä»¥ä½¿ç”¨ `\textcircled` å‘½ä»¤è¾“å…¥é¢„å®šä¹‰çš„å¸¦åœˆæ•°å­—ã€‚ä½†éœ€æ³¨æ„ï¼Œ`\textcircled` ä¼šé¢„å…ˆæ£€æŸ¥å­—ç¬¦æ˜¯å¦å­˜åœ¨ï¼Œä¸”ä»…åœ¨è¥¿æ–‡å­—ä½“ä¸­è¿›è¡Œã€‚æ‰€ä»¥å¦‚éœ€ä½¿ç”¨ä¸­æ–‡å­—ä½“è¿›è¡Œæ˜¾ç¤ºï¼Œå°±è¦ã€ŒæŒ‡é¹¿ä¸ºé©¬ã€ï¼š[^textcircled-ctex]

[^textcircled-ctex]: æ„Ÿè°¢ [@qinglee](https://github.com/qinglee) çš„æŒ‡å¯¼ï¼è§ CTeX-org/ctex-kit [#399](https://github.com/CTeX-org/ctex-kit/issues/399)ã€‚

```tex
% XeLaTeX ä¸‹éœ€è¦æŠŠå…¨ä½“å¸¦åœˆæ•°å­—éƒ½è®¾ç½®æˆ Default ç±»
% LuaLaTeX ä¸‹æ— é¡»é¢å¤–è®¾ç½®
\xeCJKDeclareCharClass{Default}{"24EA, "2460->"2473, "3251->"32BF}

% å°†ä¸­æ–‡å­—ä½“å£°æ˜ä¸ºï¼ˆè¥¿æ–‡ï¼‰å­—ä½“æ—
\newfontfamily\EnclosedNumbers{Source Han Serif SC}

% æ”¾ç½®é’©å­ï¼Œåªè®©å¸¦åœˆå­—ç¬¦æ‰éœ€æ›´æ¢å­—ä½“
\AtBeginUTFCommand[\textcircled]{\begingroup\EnclosedNumbers}
\AtEndUTFCommand[\textcircled]{\endgroup}
```

å¯¹äºå­—ä½“ä¸­æ²¡æœ‰çš„å¸¦åœˆæ•°å­—ï¼Œ`\textcircled` ä¹Ÿèƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆï¼ˆç”±åœ†åœˆå’Œç›¸åº”çš„æ•°å­—æ‹¼åˆï¼‰ã€‚é€‰æ‹©åˆé€‚çš„å­—ä½“ä¹‹åï¼Œä¾¿å¯åšä¸€äº›æ¯”è¾ƒæš´åŠ›çš„å°è¯•ï¼š

![textcircled-matrix](../images/circled-numbers/textcircled-matrix.png){:.invert}

å³ä½¿æ˜¯ä¸‰ä½æ•°ï¼Œæ•ˆæœä¹Ÿå°šèƒ½æ¥å—ã€‚

## OpenType çš„ `nalt` ç‰¹æ€§

åœ¨ OpenType ä¸­ï¼Œæœ‰ä¸€é¡¹åä¸º [`nalt`](https://docs.microsoft.com/typography/opentype/spec/features_ko#nalt)ï¼ˆAlternate Annotation Formsï¼‰çš„ GSUB ç‰¹æ€§ï¼Œå®ƒçš„ä½œç”¨æ˜¯æŠŠç‰¹å®šçš„å­—ç¬¦å½¢æ›¿æ¢æˆç¬¦å·æ ‡æ³¨å½¢å¼ï¼ˆnotational formsï¼‰ã€‚ä¸å°‘æ—¥æ–‡å­—ä½“éƒ½åŒ…å«è¿™ä¸€ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ `fontspec` å®åŒ…æä¾›çš„ç›¸å…³é€‰é¡¹è°ƒç”¨ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š

```tex
\documentclass{article}
\usepackage{fontspec}
\setmainfont{ipaexm.ttf}  % IPAex æ˜æœï¼ŒTeX Live è‡ªå¸¦

\begin{document}
{\addfontfeature{Annotation=0}123456789}
{\addfontfeature{Annotation=1}123456789}
{\addfontfeature{Annotation=2}123456789}
\end{document}
```

![textcircled-nalt](../images/circled-numbers/textcircled-nalt.svg){:.invert}

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`Annotation=X` ä¸­çš„æŸä¸ª `X` å…·ä½“å¯¹åº”ä½•ç§æ ·å¼ï¼Œè¿™æ˜¯ç”±å­—ä½“è®¾è®¡è€…å†³å®šçš„ã€‚æ­¤å¤–ï¼Œåœ¨ä¸€äº›å­—ä½“ä¸­ï¼Œéƒ¨åˆ†å‡åã€æ±‰å­—ä¹Ÿæœ‰ç±»ä¼¼çš„æ ‡æ³¨å½¢å¼ï¼Œå¯ä»¥ç”¨ç›¸åŒæ–¹æ³•ä½¿ç”¨ï¼š

```tex
\documentclass{ctexart}
\setCJKmainfont{Hiragino Mincho Pro W3}

\begin{document}
{\addCJKfontfeature{Annotation=0}ã‚ã‚¢}
{\addCJKfontfeature{Annotation=1}ã‹ã‚«}
{\addCJKfontfeature{Annotation=2}ã•ã‚µ}
{\addCJKfontfeature{Annotation=3}ãŸã‚¿}
{\addCJKfontfeature{Annotation=4}ãªãƒŠ}
{\addCJKfontfeature{Annotation=5}ã¯ãƒ}
{\addCJKfontfeature{Annotation=6}ã¾ãƒ}
\end{document}
```

![textcircled-nalt-kana](../images/circled-numbers/textcircled-nalt-kana.svg){:.invert}

è¿™é‡Œæˆ‘ä»¬ç”¨ `\addCJKfontfeature` ä»£æ›¿äº† `\addfontfeature`ã€‚æ­¤å¤„ä½œä¸ºæ¼”ç¤ºçš„å­—ä½“æ˜¯ macOS è‡ªå¸¦çš„<span lang="ja">ãƒ’ãƒ©ã‚®ãƒæ˜æœ</span>ï¼Œåœ¨ Windows/Linux ä¸Šå¯æ¢ç”¨å…¶ä»–å­—ä½“ã€‚

## Adobe-Japan1-7

[Adobe-Japan1-7 å­—ç¬¦é›†](https://github.com/adobe-type-tools/Adobe-Japan1)å®šä¹‰äº†æ›´å¤šçš„å¸¦åœˆæ•°å­—ï¼Œå¾ˆå¤šæ ·å¼éƒ½æ”¯æŒ 0--100 çš„æ•°å­—èŒƒå›´ã€‚ä½†ç”±äº Unicode æ²¡æœ‰ä¸ºå®ƒä»¬åˆ†é…ç ä½ï¼Œæˆ‘ä»¬å¿…é¡»ç”¨ CIDï¼ˆ**C**haracter **ID**entifierï¼‰æ¥æŒ‡å®šã€‚[^cid]

[^cid]: æ„Ÿè°¢ [@clerkma](https://github.com/clerkma) çš„æŒ‡å¯¼ï¼è§ CTeX-org/forum [#20](https://github.com/CTeX-org/forum/issues/20)ã€‚

ç”±äº CID åˆ°å…·ä½“å­—ç¬¦çš„æ˜ ç…§æ¯”è¾ƒå¤æ‚ï¼Œå› è€Œè¿™é‡Œæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå®åŒ… [`textcircle-cid`](https://github.com/stone-zeng/latex-showcase/blob/main/textcircle-cid/textcircle-cid.sty)ï¼Œç”¨æ¥é€šè¿‡ CID è°ƒç”¨å¸¦åœˆæ•°å­—ã€‚`textcircle-cid` å®åŒ…æä¾›äº†ä¸‹é¢ä¸€ç»„å‘½ä»¤ï¼š

- `\CIDtextcircled`
- `\CIDtextblackcircled`
- `\CIDtextboxed`
- `\CIDtextblackboxed`
- `\CIDtextrboxed`
- `\CIDtextblackrboxed`

æ”¯æŒçš„æ•°å­—èŒƒå›´æ˜¯ 0--100 å’Œ 00--09ã€‚$\>XeTeX$ã€$\>LuaTeX$ å’Œ $\>upTeX$ è¿™ä¸‰ç§ Unicode å¼•æ“å‡å¯ä½¿ç”¨ï¼Œä½†éœ€è¦é…åˆå…¶ä»–å®åŒ…åŠå‘½ä»¤ä»¥å®ç°æ­£ç¡®çš„å­—ä½“è°ƒç”¨ï¼š

- $\>XeLaTeX$ ä¸‹éœ€è¦é€šè¿‡ `\setmainfont` ç­‰å‘½ä»¤è®¾ç½®å­—ä½“
- $\>LuaLaTeX$ ä¸‹éœ€è¦é€šè¿‡ `\setmainjfont` ç­‰å‘½ä»¤è®¾ç½®ï¼ˆæ—¥æ–‡ï¼‰å­—ä½“
- $\>upLaTeX$ ä¸‹éœ€è¦è°ƒç”¨ `pxchfon` å®åŒ…ï¼Œå¹¶ä¸”ä½¿ç”¨ `\setminchofont` ç­‰å‘½ä»¤è®¾ç½®å­—ä½“ï¼Œå…·ä½“å¯ä»¥å‚è€ƒä»¥ä¸‹ç¤ºä¾‹ï¼š

  ```tex
  {% raw %}% test-uptex.tex
  \documentclass{ujarticle}
  \usepackage{pxchfon,textcircle-cid}
  \setminchofont{KozMinPr6N-Regular.otf}
  \setgothicfont{KozGoPr6N-Regular.otf}

  \def\TEST{%
    \CIDtextcircled{0}
    \CIDtextblackcircled{1}
    \CIDtextboxed{00}
    \CIDtextblackboxed{10}
    \CIDtextrboxed{50}
    \CIDtextblackrboxed{100}}

  \begin{document}
  \textmc{\TEST} \par
  \textgt{\TEST}
  \end{document}{% endraw %}
  ```

  ![textcircled-cid-uptex](/images/circled-numbers/textcircled-cid-uptex.svg){:.invert}

  æ³¨æ„ $\>upTeX$ ä¸ç›´æ¥ç”Ÿæˆ PDFï¼Œå› æ­¤ç¼–è¯‘æ—¶å¯é‡‡å–å¦‚ä¸‹æ–¹å¼ï¼š

  ```bash
  uplatex test-uptex && dvipdfmx test-uptex
  ```

  åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„å­—ä½“æ˜¯ Adobe çš„<span lang="ja">å°å¡šæ˜æœ</span>å’Œ<span lang="ja">å°å¡šã‚´ã‚·ãƒƒã‚¯</span>ã€‚äº‹å®ä¸Šï¼Œåªæœ‰éµä» Adobe-Japan1 çš„å­—ä½“ï¼Œæ‰èƒ½åˆ©ç”¨ CID æ­£ç¡®åœ°è°ƒç”¨ç›¸åº”çš„å­—ç¬¦ã€‚

## å­—ä½“çš„é€‰æ‹©

ä¸Šæ–‡æˆ‘ä»¬å¤šæ¬¡æåŠï¼Œå¸¦åœˆæ•°å­—çš„å…·ä½“ä½¿ç”¨ä¸å­—ä½“å¯†åˆ‡ç›¸å…³ã€‚ä¸‹é¢æˆ‘ä»¬æ•´ç†äº† $\TeX$ Live è‡ªå¸¦çš„ã€å¯ä½¿ç”¨å¸¦åœˆæ•°å­—çš„å­—ä½“ï¼Œä»¥åŠå¯¹åº”çš„æ•°å­—èŒƒå›´ï¼š

{:.circled-number-fonts}
| å­—ä½“                                                            | å¸¦åœˆ   | åç™½   | æ— è¡¬çº¿ | æ— è¡¬çº¿åç™½ |
|:---------------------------------------------------------------:|:------:|:------:|:------:|:----------:|
| Baekmuk Fonts ç³»åˆ—                                              | 1--15  |        |        |            |
| Carlito                                                         | 0--20  | 0--20  |        |            |
| DejaVuSans                                                      | 1--10  | 1--10  | 1--10  | 1--10      |
| Fandol Song/Hei/Fang/Kai                                        | 1--10  |        |        |            |
| FreeMono, FreeSans                                              | 1--10  |        |        |            |
| FreeSerif                                                       | 1--10  | 1--10  | 1--10  | 1--10      |
| Garamond Math                                                   | 0--50  | 0--20  |        |            |
| IPAGothic, IPAMincho                                            | 1--50  | 1--20  |        |            |
| Junicode                                                        | 0--20  | 0--20  |        |            |
| Lato                                                            | 0--20  | 0--20  |        |            |
| Libertinus Serif/Sans/Math<br>Linux Libertine<br>Linux Biolinum | 0--20  | 0--20  |        |            |
| Libertinus Keyboard<br>Linux Biolinum Keyboard                  |        | 1--10  |        |            |
| STIX, STIX Math                                                 | 0--9   |        | 1--10  | 1--10      |
| STIX Two Math                                                   | 0--20  | 0--20  | 1--10  | 1--10      |
| Un-Fonts ç³»åˆ—ï¼ˆUnBatang ç­‰ï¼‰                                    | 0--20  |        |        |            |
| XITS, XITS Math                                                 | 0--9   |        | 1--10  | 1--10      |
| æ–‡é¼ï¼°ï¼¬ç®€æŠ¥å®‹<br>æ–‡é¼ï¼°ï¼¬ç®€ä¸­æ¥·                                | 1--10  |        |        |            |

ä»¥ä¸‹æ˜¯å…¶ä»–ä¸€äº›å¸¸è§ä¸­ã€æ—¥æ–‡å­—ä½“ï¼Œå…¶ä¸­å¾ˆå¤šæ˜¯æ“ä½œç³»ç»Ÿè‡ªå¸¦çš„ï¼š

{:.circled-number-fonts}
| å­—ä½“                                                                                                   | å¸¦åœˆ   | åç™½   | æ— è¡¬çº¿ | æ— è¡¬çº¿åç™½ |
|:------------------------------------------------------------------------------------------------------:|:------:|:------:|:------:|:----------:|
| æ€æºå®‹ä½“ã€æ€æºé»‘ä½“                                                                                     | 0--50  | 0--20  | 0--10  | 0--10      |
| å¾®è½¯é›…é»‘ã€å¾®è½¯æ­£é»‘                                                                                     | 1--10  |        |        |            |
| è‹¹æ–¹                                                                                                   | 0--50  | 0--20  | 0--10  | 1--10      |
| æ–¹æ­£ä¹¦å®‹ã€æ–¹æ­£é»‘ä½“ã€æ–¹æ­£æ¥·ä½“ã€æ–¹æ­£ä»¿å®‹ã€ç­‰çº¿                                                           | 1--10  |        |        |            |
| å®‹ä½“ã€é»‘ä½“ã€æ¥·ä½“ã€ä»¿å®‹ï¼ˆä¸­æ˜“ï¼‰                                                                         | 1--10  |        |        |            |
| æ›´çº±é»‘ä½“ (Sarasa Gothic)                                                                               | 0--50  | 0--20  | 0--10  | 0--10      |
| <span lang="ja">å°å¡šæ˜æœ</span> (Kozuka Mincho)<br><span lang="ja">å°å¡šã‚´ã‚·ãƒƒã‚¯</span> (Kozuka Gothic) | 0--100 | 0--100 |        |            |
| <span lang="ja">æ¸¸æ˜æœ</span> (Yu Mincho)<br><span lang="ja">æ¸¸ã‚´ã‚·ãƒƒã‚¯</span> (Yu Gothic)             | 0--100 | 0--100 |        |            |
| <span lang="ja">ãƒ¡ã‚¤ãƒªã‚ª</span> (Meiryo)                                                               | 0--50  | 1--20  | 0--10  | 1--10      |

è¿™é‡Œæˆ‘ä»¬ç”¨äº† Python è„šæœ¬ [`check-circled-number.py`](https://github.com/stone-zeng/latex-showcase/blob/main/textcircle-cid/check-circled-number.py) æ¥è¯»å–å­—ä½“ä¿¡æ¯ï¼Œå®ƒè¿˜ä¾èµ– [FontForge](https://fontforge.github.io/)ã€‚æ³¨æ„ç”±äºå­—ä½“ç‰ˆæœ¬ä¸åŒï¼Œä¸ä¿è¯è¡¨ä¸­æ‰€åˆ—ç»“æœä¸å®é™…æƒ…å†µå®Œå…¨ä¸€è‡´ã€‚

## æ³¨é‡Š

<div id="footnotes"></div>
